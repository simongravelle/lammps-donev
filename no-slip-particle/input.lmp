# LAMMPS input file

# Set the generic parameters
boundary p p p                   # Periodic boundary conditions along x, y, and z
units real                       # LAMMPS units system (see docs.lammps.org/units.html) 
atom_style full                  # LAMMPS atom style (see docs.lammps.org/atom_style.html) 

# Define intra-molecular and inter-molecular potentials
bond_style harmonic              # Use harmonic potential for bonds
angle_style harmonic             # Use harmonic potential for angles
pair_style lj/cut/coul/cut 10    # Lennard-Jones interactions + Coulomb with cut-off at 10 Angstroms

# Create the simulation box
lattice fcc 3.0                  # Lattice constant of 3 Angstroms
region box prism -6 6 -3 3 -10 10 0 0 0 # Define a region for creating the system
# Define a simulation box with 3 atom types and allocate memory for bonds, angles, etc
create_box 3 box bond/types 1 angle/types 1 extra/bond/per/atom 2 &
  extra/angle/per/atom 2 extra/special/per/atom 2

region rp block -2.5 2.5 INF INF -0.5 0.5
create_atoms 3 region rp
group gp type 3

molecule h2omol water.mol
lattice sc 3.0
create_atoms 0 region box mol h2omol 46545
group gf type 1 2

include parameters.inc

delete_atoms overlap 2.0 gf gp mol yes

timestep 1.0
fix mynpt all npt temp 300 300 100 aniso 1 1 1000 couple xz
fix myrct gp recenter INIT NULL INIT

thermo 1000
dump mydmp all atom 1000 dump.lammpstrj
#dump mydmp all image 200 myimage-*.ppm type type shiny 0.1 box no 0.01 view 90 -90 zoom 1.5
#dump_modify mydmp backcolor white acolor 1 red acolor 2 white acolor 3 &
#  gray adiam 1 2 adiam 2 0.8 adiam 3 2

run 5000

fix mydef gf deform 1 xz erate 0.0000025 remap v

run 25000000
write_data system.data

